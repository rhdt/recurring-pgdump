{  
  "kind":"Template",
  "apiVersion":"v1",
  "metadata":{  
    "name":"db-backup-cron",
    "creationTimestamp":null,
    "annotations":{  
      "description":"PostgreSQL backup openshift Example",
      "iconClass":"icon-database",
      "tags":"database,postgresql,backup"
    }
  },
  "objects":[  
    {  
      "kind":"Pod",
      "apiVersion":"v1",
      "metadata":{  
        "name":"db-backup-cron",
        "labels":{  
          "name":"db-backup-cron"
        }
      },
      "spec":{  
        "containers":[  
          {  
            "name":"recurring-pgdump",
            "image":"registry.centos.org/sgk/recurring-pgdump:latest",
            "env":[  
              {  
                "name":"PGHOST",
                "value":"postgresql-92-centos7"
              },
              {  
                "name":"PGPORT",
                "value":"5432"
              },
              {  
                "name":"PGUSER",
                "value":"testuser"
              },
              {  
                "name":"PGPASSWORD",
                "value":"password"
              },
              {  
                "name":"PGDB",
                "value":"userdb"
              },
              {  
                "name":"BKPTIME",
                "value":"9"
              }
            ],
            "volumeMounts":[  
              {  
                "mountPath":"/var/lib/pgsql/data",
                "name":"pgdata",
                "readOnly":false
              }
            ]
          }
        ],
        "volumes":[  
          {  
            "name":"pgdata",
            "persistentVolumeClaim":{  
              "claimName":"storage1"
            }
          }
        ]
      }
    }
  ]
}
